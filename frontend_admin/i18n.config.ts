// i18n.config.js
export default defineI18nConfig(() => {
  let userLang = "en";
  if (process.client) {
    const browserLang = navigator.language || navigator.userLanguage;
    const shortLang = browserLang.split("-")[0];
    if (["en", "ru", "uk", "pl"].includes(shortLang)) {
      userLang = shortLang;
    }
  }

  return {
    legacy: false,
    locale: userLang,
    fallbackLocale: "en",
    messages: {
      en: {
        chat: "Chat",
        newChat: "New chat",
        showCommands: "Show commands", // ADDED
        sendMessage: "Send a message...",
        chatAgain: "Chat again",
        language: "Language",
        roomActions: [
          {
            name: "archiveRoom",
            title: "Archive Room",
          },
        ],
        buttons: {
          save: "Save",
          cancel: "Cancel",
          close: "Close",
          delete: "Delete",
          edit: "Edit",
          add: "Add",
          remove: "Remove",
          create: "Create",
          send: "Send",
          back: "Back",
          next: "Next",
          finish: "Finish",
          confirm: "Confirm",
          search: "Search",
          clear: "Clear",
          select: "Select",
          copy: "Copy",
          openTestChat: "Open test chat",
        },
        menuActions: [
          {
            name: "inviteUser",
            title: "Invite User",
          },
          {
            name: "removeUser",
            title: "Remove User",
          },
          {
            name: "deleteRoom",
            title: "Delete Room",
          },
        ],
        messageActions: [
          {
            name: "replyMessage",
            title: "Reply",
          },
          {
            name: "editMessage",
            title: "Edit Message",
            onlyMe: true,
          },
          {
            name: "deleteMessage",
            title: "Delete Message",
            onlyMe: true,
          },
          {
            name: "selectMessages",
            title: "Select",
          },
        ],
        messageSelectionActions: [
          {
            name: "deleteMessages",
            title: "Delete",
          },
          {
            name: "forwardMessages",
            title: "Forward",
          },
        ],
        templatesText: [
          {
            tag: "help",
            text: "This is the help",
          },
          {
            tag: "action",
            text: "This is the action",
          },
        ],
        textMessages: {
          ROOMS_EMPTY: "No conversations",
          ROOM_EMPTY: "No conversation selected",
          NEW_MESSAGES: "New messages",
          MESSAGE_DELETED: "This message was deleted",
          MESSAGES_EMPTY: "No messages",
          CONVERSATION_STARTED: "The conversation started on:",
          TYPE_MESSAGE: "Type your message",
          SEARCH: "Search",
          IS_ONLINE: "is online",
          LAST_SEEN: "last seen ",
          IS_TYPING: "is typing...",
          CANCEL_SELECT_MESSAGE: "Cancel Selection",
        },
        additionalMessages: {
          chatRefreshed: "Chat Refreshed",
          chatRefreshedSuccessfully: "The chat has been refreshed successfully.",
          errorRefreshingChat: "Error refreshing chat:",
          failedToRefreshChat: "Failed to refresh the chat.",
          sendingMessage: "Sending message:",
          attention: "Attention",
          error: "Error",
          choiceOptions: "Choice Options:",
          choiceOptionsFromLastMessage: "Choice Options (from last message):",
          messagesRetrieved: "Messages Retrieved:",
          newMessage: "New Message:",
          unknownMessageType: "Unknown message type:",
          webSocketConnectionEstablished: "WebSocket connection established.",
          webSocketConnectionClosed: "WebSocket connection closed.",
          webSocketError: "WebSocket error:",
          pageIsVisibleCheckingWSConnection: "Page is visible. Checking WebSocket connection...",
          pageIsHiddenPausingUpdates: "Page is hidden. Pausing updates.",
          windowInFocus: "Window in focus",
          webSocketIsNotOpenReconnecting: "WebSocket is not open. Reconnecting...",
        },
        knowledgeBase: {
          addTopic: "Add Topic",
          removeTopic: "Remove Topic",
          addSubtopic: "Add Subtopic",
          removeSubtopic: "Remove Subtopic",
          addQuestion: "Add Question",
          removeQuestion: "Remove Question",
          renameTopic: "Rename Topic",
          renameSubtopic: "Rename Subtopic",
          saveChanges: "Save Changes",
          discardChanges: "Discard Changes",
          exportData: "Export Data",
          importData: "Import Data",
          clearPlayground: "Clear Playground",
          confirmRemoveTopic: 'Remove topic "{topicName}"?',
          confirmRemoveSubtopic: 'Remove subtopic "{subtopicName}" from "{topicName}"?',
          confirmRemoveQuestion: 'Remove question "{questionKey}"?',
          unsavedChangesWarning: "You have unsaved changes. Are you sure you want to leave?",
          label: {
            promptTextarea: "Query field",
            question: "Question",
            answerText: "Answer text",
            linksFiles: "Links / Files",
            selectedFiles: "Selected files",
          },
          button: {
            howToUse: "How to use this tool?",
            generateSmartChange: "Generate smart change",
            openTestChat: "Open test chat",
            clearPlayground: "Clear workspace",
            addTopic: "Add topic",
            addSubtopic: "Add subtopic",
            addQuestion: "Add question",
            addLink: "Add link",
            savePlayground: "Save workspace",
            rejectPlayground: "Reject workspace",
            transferToDatabase: "Transfer to database",
            exportJson: "Export JSON",
            importJson: "Import JSON",
          },
          header: {
            workspacePlayground: "Workspace",
            readonlyKnowledgeBase: "Knowledge base (read-only)",
          },
        },
      },
      ru: {
        chat: "Чат",
        newChat: "Новый чат",
        showCommands: "Показать команды", // ADDED
        sendMessage: "Отправить сообщение...",
        chatAgain: "Начать заново",
        language: "Язык",
        // Russian (ru)
        buttons: {
          save: "Сохранить",
          cancel: "Отмена",
          close: "Закрыть",
          delete: "Удалить",
          edit: "Редактировать",
          add: "Добавить",
          remove: "Удалить",
          create: "Создать",
          send: "Отправить",
          back: "Назад",
          next: "Далее",
          finish: "Завершить",
          confirm: "Подтвердить",
          search: "Поиск",
          clear: "Очистить",
          select: "Выбрать",
          copy: "Копировать",
          // Russian (ru)
          openTestChat: "Открыть тестовый чат",
        },

        roomActions: [
          {
            name: "archiveRoom",
            title: "Архивировать комнату",
          },
        ],
        menuActions: [
          {
            name: "inviteUser",
            title: "Пригласить пользователя",
          },
          {
            name: "removeUser",
            title: "Удалить пользователя",
          },
          {
            name: "deleteRoom",
            title: "Удалить комнату",
          },
        ],
        messageActions: [
          {
            name: "replyMessage",
            title: "Ответить",
          },
          {
            name: "editMessage",
            title: "Редактировать",
            onlyMe: true,
          },
          {
            name: "deleteMessage",
            title: "Удалить",
            onlyMe: true,
          },
          {
            name: "selectMessages",
            title: "Выбрать",
          },
        ],
        messageSelectionActions: [
          {
            name: "deleteMessages",
            title: "Удалить",
          },
          {
            name: "forwardMessages",
            title: "Переслать",
          },
        ],
        templatesText: [
          {
            tag: "help",
            text: "Это справка",
          },
          {
            tag: "action",
            text: "Это действие",
          },
        ],
        textMessages: {
          ROOMS_EMPTY: "Нет диалогов",
          ROOM_EMPTY: "Выберите диалог",
          NEW_MESSAGES: "Новые сообщения",
          MESSAGE_DELETED: "Сообщение удалено",
          MESSAGES_EMPTY: "Нет сообщений",
          CONVERSATION_STARTED: "Разговор начался:",
          TYPE_MESSAGE: "Введите сообщение",
          SEARCH: "Поиск",
          IS_ONLINE: "в сети",
          LAST_SEEN: "был(а) в сети",
          IS_TYPING: "печатает...",
          CANCEL_SELECT_MESSAGE: "Отменить выбор",
        },
        additionalMessages: {
          chatRefreshed: "Чат обновлен",
          chatRefreshedSuccessfully: "Чат успешно обновлен.",
          errorRefreshingChat: "Ошибка при обновлении чата:",
          failedToRefreshChat: "Не удалось обновить чат.",
          sendingMessage: "Отправка сообщения:",
          attention: "Внимание",
          error: "Ошибка",
          choiceOptions: "Варианты выбора:",
          choiceOptionsFromLastMessage: "Варианты (из последнего сообщения):",
          messagesRetrieved: "Сообщения получены:",
          newMessage: "Новое сообщение:",
          unknownMessageType: "Неизвестный тип сообщения:",
          webSocketConnectionEstablished: "WebSocket-соединение установлено.",
          webSocketConnectionClosed: "WebSocket-соединение закрыто.",
          webSocketError: "Ошибка WebSocket:",
          pageIsVisibleCheckingWSConnection: "Страница активна. Проверяем соединение...",
          pageIsHiddenPausingUpdates: "Страница скрыта. Обновления приостановлены.",
          windowInFocus: "Окно в фокусе",
          webSocketIsNotOpenReconnecting: "WebSocket не открыт. Переподключаемся...",
        },

        knowledgeBase: {
          addTopic: "Добавить тему",
          removeTopic: "Удалить тему",
          addSubtopic: "Добавить подтему",
          removeSubtopic: "Удалить подтему",
          addQuestion: "Добавить вопрос",
          removeQuestion: "Удалить вопрос",
          renameTopic: "Переименовать тему",
          renameSubtopic: "Переименовать подтему",
          saveChanges: "Сохранить изменения",
          discardChanges: "Отменить изменения",
          exportData: "Экспорт данных",
          importData: "Импорт данных",
          clearPlayground: "Очистить рабочее пространство",
          confirmRemoveTopic: 'Удалить тему "{topicName}"?',
          confirmRemoveSubtopic: 'Удалить подтему "{subtopicName}" из "{topicName}"?',
          confirmRemoveQuestion: 'Удалить вопрос "{questionKey}"?',
          unsavedChangesWarning: "У вас есть несохраненные изменения. Вы уверены, что хотите уйти?",
          label: {
            promptTextarea: "Поле запроса",
            question: "Вопрос",
            answerText: "Текст ответа",
            linksFiles: "Ссылки / Файлы",
            selectedFiles: "Выбранные файлы",
          },
          button: {
            howToUse: "Как использовать этот инструмент?",
            generateSmartChange: "Сгенерировать умное изменение",
            openTestChat: "Открыть тестовый чат",
            clearPlayground: "Очистить рабочее пространство",
            addTopic: "Добавить тему",
            addSubtopic: "Добавить подтему",
            addQuestion: "Добавить вопрос",
            addLink: "Добавить ссылку",
            savePlayground: "Сохранить рабочее пространство",
            rejectPlayground: "Отклонить рабочее пространство",
            transferToDatabase: "Перенести в базу данных",
            exportJson: "Экспортировать JSON",
            importJson: "Импортировать JSON",
          },
          header: {
            workspacePlayground: "Рабочее пространство",
            readonlyKnowledgeBase: "База знаний (только для чтения)",
          },
        },
      },
      uk: {
        chat: "Чат",
        newChat: "Новий чат",
        showCommands: "Показати команди", // ADDED
        sendMessage: "Надіслати повідомлення...",
        chatAgain: "Почати знову",
        language: "Мова",
        // Ukrainian (uk)
        buttons: {
          save: "Зберегти",
          cancel: "Скасувати",
          close: "Закрити",
          delete: "Видалити",
          edit: "Редагувати",
          add: "Додати",
          remove: "Видалити",
          create: "Створити",
          send: "Надіслати",
          back: "Назад",
          next: "Далі",
          finish: "Завершити",
          confirm: "Підтвердити",
          search: "Пошук",
          clear: "Очистити",
          select: "Вибрати",
          copy: "Копіювати",
          // Ukrainian (uk)
          openTestChat: "Відкрити тестовий чат",
        },
        roomActions: [
          {
            name: "archiveRoom",
            title: "Архівувати кімнату",
          },
        ],
        menuActions: [
          {
            name: "inviteUser",
            title: "Запросити користувача",
          },
          {
            name: "removeUser",
            title: "Видалити користувача",
          },
          {
            name: "deleteRoom",
            title: "Видалити кімнату",
          },
        ],
        messageActions: [
          {
            name: "replyMessage",
            title: "Відповісти",
          },
          {
            name: "editMessage",
            title: "Редагувати повідомлення",
            onlyMe: true,
          },
          {
            name: "deleteMessage",
            title: "Видалити повідомлення",
            onlyMe: true,
          },
          {
            name: "selectMessages",
            title: "Вибрати",
          },
        ],
        messageSelectionActions: [
          {
            name: "deleteMessages",
            title: "Видалити",
          },
          {
            name: "forwardMessages",
            title: "Переслати",
          },
        ],
        templatesText: [
          {
            tag: "help",
            text: "Це довідка",
          },
          {
            tag: "action",
            text: "Це дія",
          },
        ],
        textMessages: {
          ROOMS_EMPTY: "Немає діалогів",
          ROOM_EMPTY: "Не вибрано діалог",
          NEW_MESSAGES: "Нові повідомлення",
          MESSAGE_DELETED: "Повідомлення видалено",
          MESSAGES_EMPTY: "Немає повідомлень",
          CONVERSATION_STARTED: "Розмова розпочалася:",
          TYPE_MESSAGE: "Введіть повідомлення",
          SEARCH: "Пошук",
          IS_ONLINE: "в мережі",
          LAST_SEEN: "був(ла) в мережі",
          IS_TYPING: "друкує...",
          CANCEL_SELECT_MESSAGE: "Скасувати вибір",
        },
        additionalMessages: {
          chatRefreshed: "Чат оновлено",
          chatRefreshedSuccessfully: "Чат успішно оновлено.",
          errorRefreshingChat: "Помилка під час оновлення чату:",
          failedToRefreshChat: "Не вдалося оновити чат.",
          sendingMessage: "Надсилання повідомлення:",
          attention: "Увага",
          error: "Помилка",
          choiceOptions: "Варіанти вибору:",
          choiceOptionsFromLastMessage: "Варіанти (з останнього повідомлення):",
          messagesRetrieved: "Повідомлення отримано:",
          newMessage: "Нове повідомлення:",
          unknownMessageType: "Невідомий тип повідомлення:",
          webSocketConnectionEstablished: "Підключено WebSocket.",
          webSocketConnectionClosed: "З’єднання WebSocket закрито.",
          webSocketError: "Помилка WebSocket:",
          pageIsVisibleCheckingWSConnection: "Сторінка активна. Перевіряємо з'єднання...",
          pageIsHiddenPausingUpdates: "Сторінка неактивна. Оновлення призупинено.",
          windowInFocus: "Вікно у фокусі",
          webSocketIsNotOpenReconnecting: "WebSocket не відкритий. Повторне підключення...",
        },

        knowledgeBase: {
          addTopic: "Додати тему",
          removeTopic: "Видалити тему",
          addSubtopic: "Додати підтему",
          removeSubtopic: "Видалити підтему",
          addQuestion: "Додати питання",
          removeQuestion: "Видалити питання",
          renameTopic: "Перейменувати тему",
          renameSubtopic: "Перейменувати підтему",
          saveChanges: "Зберегти зміни",
          discardChanges: "Скасувати зміни",
          exportData: "Експортувати дані",
          importData: "Імпортувати дані",
          clearPlayground: "Очистити робочий простір",
          confirmRemoveTopic: 'Видалити тему "{topicName}"?',
          confirmRemoveSubtopic: 'Видалити підтему "{subtopicName}" з "{topicName}"?',
          confirmRemoveQuestion: 'Видалити питання "{questionKey}"?',
          unsavedChangesWarning: "У вас є незбережені зміни. Ви впевнені, що хочете вийти?",
          label: {
            promptTextarea: "Поле запиту",
            question: "Питання",
            answerText: "Текст відповіді",
            linksFiles: "Посилання / Файли",
            selectedFiles: "Вибрані файли",
          },
          button: {
            howToUse: "Як користуватися цим інструментом?",
            generateSmartChange: "Згенерувати розумну зміну",
            openTestChat: "Відкрити тестовий чат",
            clearPlayground: "Очистити робочий простір",
            addTopic: "Додати тему",
            addSubtopic: "Додати підтему",
            addQuestion: "Додати питання",
            addLink: "Додати посилання",
            savePlayground: "Зберегти робочий простір",
            rejectPlayground: "Відхилити робочий простір",
            transferToDatabase: "Перенести в базу даних",
            exportJson: "Експортувати JSON",
            importJson: "Імпортувати JSON",
          },
          header: {
            workspacePlayground: "Робочий простір",
            readonlyKnowledgeBase: "База знань (лише для читання)",
          },
        },
      },
      pl: {
        chat: "Czat",
        newChat: "Nowy czat",
        showCommands: "Pokaż polecenia", // ADDED
        sendMessage: "Wyślij wiadomość...",
        chatAgain: "Rozpocznij ponownie",
        language: "Język",
        // Polish (pl)
        buttons: {
          save: "Zapisz",
          cancel: "Anuluj",
          close: "Zamknij",
          delete: "Usuń",
          edit: "Edytuj",
          add: "Dodaj",
          remove: "Usuń",
          create: "Utwórz",
          send: "Wyślij",
          back: "Wstecz",
          next: "Dalej",
          finish: "Zakończ",
          confirm: "Potwierdź",
          search: "Szukaj",
          clear: "Wyczyść",
          select: "Wybierz",
          copy: "Kopiuj",
          // Polish (pl)
          openTestChat: "Otwórz czat testowy",
        },

        roomActions: [
          {
            name: "archiveRoom",
            title: "Archiwizuj pokój",
          },
        ],
        menuActions: [
          {
            name: "inviteUser",
            title: "Zaproś użytkownika",
          },
          {
            name: "removeUser",
            title: "Usuń użytkownika",
          },
          {
            name: "deleteRoom",
            title: "Usuń pokój",
          },
        ],
        messageActions: [
          {
            name: "replyMessage",
            title: "Odpowiedz",
          },
          {
            name: "editMessage",
            title: "Edytuj wiadomość",
            onlyMe: true,
          },
          {
            name: "deleteMessage",
            title: "Usuń wiadomość",
            onlyMe: true,
          },
          {
            name: "selectMessages",
            title: "Wybierz",
          },
        ],
        messageSelectionActions: [
          {
            name: "deleteMessages",
            title: "Usuń",
          },
          {
            name: "forwardMessages",
            title: "Prześlij",
          },
        ],
        templatesText: [
          {
            tag: "help",
            text: "To jest pomoc",
          },
          {
            tag: "action",
            text: "To jest działanie",
          },
        ],
        textMessages: {
          ROOMS_EMPTY: "Brak konwersacji",
          ROOM_EMPTY: "Brak wybranej konwersacji",
          NEW_MESSAGES: "Nowe wiadomości",
          MESSAGE_DELETED: "Wiadomość została usunięta",
          MESSAGES_EMPTY: "Brak wiadomości",
          CONVERSATION_STARTED: "Rozmowa rozpoczęła się:",
          TYPE_MESSAGE: "Wpisz swoją wiadomość",
          SEARCH: "Szukaj",
          IS_ONLINE: "jest online",
          LAST_SEEN: "ostatnio widziano ",
          IS_TYPING: "pisze...",
          CANCEL_SELECT_MESSAGE: "Anuluj wybór",
        },
        additionalMessages: {
          chatRefreshed: "Czat odświeżony",
          chatRefreshedSuccessfully: "Czat został pomyślnie odświeżony.",
          errorRefreshingChat: "Błąd podczas odświeżania czatu:",
          failedToRefreshChat: "Nie udało się odświeżyć czatu.",
          sendingMessage: "Wysyłanie wiadomości:",
          attention: "Uwaga",
          error: "Błąd",
          choiceOptions: "Opcje wyboru:",
          choiceOptionsFromLastMessage: "Opcje (z ostatniej wiadomości):",
          messagesRetrieved: "Odebrano wiadomości:",
          newMessage: "Nowa wiadomość:",
          unknownMessageType: "Nieznany typ wiadomości:",
          webSocketConnectionEstablished: "Połączono z WebSocket.",
          webSocketConnectionClosed: "Połączenie WebSocket zostało zamknięte.",
          webSocketError: "Błąd WebSocket:",
          pageIsVisibleCheckingWSConnection: "Strona jest widoczna. Sprawdzanie połączenia...",
          pageIsHiddenPausingUpdates: "Strona jest ukryta. Wstrzymano aktualizacje.",
          windowInFocus: "Okno w fokuse",
          webSocketIsNotOpenReconnecting: "WebSocket nie jest otwarty. Ponowne łączenie...",
        },
      },
    },

    knowledgeBase: {
      addTopic: "Dodaj temat",
      removeTopic: "Usuń temat",
      addSubtopic: "Dodaj podtemat",
      removeSubtopic: "Usuń podtemat",
      addQuestion: "Dodaj pytanie",
      removeQuestion: "Usuń pytanie",
      renameTopic: "Zmień nazwę tematu",
      renameSubtopic: "Zmień nazwę podtematu",
      saveChanges: "Zapisz zmiany",
      discardChanges: "Odrzuć zmiany",
      exportData: "Eksportuj dane",
      importData: "Importuj dane",
      clearPlayground: "Wyczyść przestrzeń roboczą",
      confirmRemoveTopic: 'Usunąć temat "{topicName}"?',
      confirmRemoveSubtopic: 'Usunąć podtemat "{subtopicName}" z "{topicName}"?',
      confirmRemoveQuestion: 'Usunąć pytanie "{questionKey}"?',
      unsavedChangesWarning: "Masz niezapisane zmiany. Czy na pewno chcesz wyjść?",
      label: {
        promptTextarea: "Pole zapytania",
        question: "Pytanie",
        answerText: "Tekst odpowiedzi",
        linksFiles: "Linki / Pliki",
        selectedFiles: "Wybrane pliki",
      },
      button: {
        howToUse: "Jak korzystać z tego narzędzia?",
        generateSmartChange: "Wygeneruj inteligentną zmianę",
        openTestChat: "Otwórz czat testowy",
        clearPlayground: "Wyczyść przestrzeń roboczą",
        addTopic: "Dodaj temat",
        addSubtopic: "Dodaj podtemat",
        addQuestion: "Dodaj pytanie",
        addLink: "Dodaj link",
        savePlayground: "Zapisz przestrzeń roboczą",
        rejectPlayground: "Odrzuć przestrzeń roboczą",
        transferToDatabase: "Przenieś do bazy danych",
        exportJson: "Eksportuj JSON",
        importJson: "Importuj JSON",
      },
      header: {
        workspacePlayground: "Przestrzeń robocza",
        readonlyKnowledgeBase: "Baza wiedzy (tylko do odczytu)",
      },
    },
  };
});
